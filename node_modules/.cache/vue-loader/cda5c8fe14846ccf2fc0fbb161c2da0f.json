{"remainingRequest":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\nowcoder\\Nowcoding-vue\\src\\components\\Home\\HomeMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\src\\components\\Home\\HomeMain.vue","mtime":1581243240370},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 声明使用的数组\r\n      currentPageNumber: 1,\r\n      totalPageNumber: 0,\r\n      maxRowsPerPage: 10,\r\n      activeName: 'first',\r\n      infos: []\r\n    };\r\n  },\r\n  computed: {\r\n    // 页面总数的计算属性，获取info中第一个节点的totalPageNumber数据\r\n    getPageNumber() {\r\n      var pageNumber = this.infos[0].totalPageNumber * 10;\r\n      return pageNumber\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    handleUrlChange(PageNumber) {\r\n      let url = '/community/getIndexPost?currentPageNumber=' + PageNumber + '&maxRowsPerPage' + this.maxRowsPerPage;\r\n      console.log(`url to: ${url}`);\r\n      this.$axios\r\n        // 不添加http等前缀，前缀由vue.config.js来补充，实现请求转发\r\n        .get(url)\r\n        .then(resp => {\r\n          if (resp) {\r\n            // 将resp中的data数据存入infos\r\n            this.infos = resp.data;\r\n            // totalPageNumber数据由后台传过来，页面上直接获取的话会报错，故使用计算属性来完成\r\n            this.totalPageNumber = this.getPageNumber;\r\n\r\n          }\r\n        });\r\n    },\r\n    handleClick(tab, event) {\r\n        console.log(tab, event);\r\n      },\r\n    handleCurrentChange(val) {\r\n      this.currentPageNumber = val;\r\n      console.log(`当前页: ${val}`);\r\n      this.handleUrlChange(val);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.handleUrlChange(1);\r\n  }\r\n};\r\n",{"version":3,"sources":["HomeMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeMain.vue","sourceRoot":"src/components/Home","sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" type=\"card\">\r\n    <el-tab-pane label=\"最新\" name=\"first\">\r\n          <h3>当前页码 is {{totalPageNumber}}</h3>\r\n\r\n    <!-- 使用v-for读取infos中的数据 -->\r\n\r\n    <div v-for=\"(info, i) in infos\" :key=\"i\">\r\n      <div v-if=\"info.totalPageNumber\"></div>\r\n      <div v-else>\r\n        <div>\r\n          <p>{{ info.content }}</p>\r\n          <p>\r\n            <span>{{ info.user_name }}</span>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <span style=\"padding-left:250px\">发布于：{{info.create_time}}</span>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <span>回帖：{{info.comment_count}}</span>\r\n          </p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"text-align: center;\">\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        layout=\"prev, pager, next\"\r\n        :size=\"maxRowsPerPage\"\r\n        :total=\"totalPageNumber\"\r\n        :current-page=\"currentPageNumber\"\r\n      ></el-pagination>\r\n    </div>\r\n    </el-tab-pane>\r\n\r\n    \r\n    <el-tab-pane label=\"最热\" name=\"second\">最热</el-tab-pane>\r\n  </el-tabs>\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 声明使用的数组\r\n      currentPageNumber: 1,\r\n      totalPageNumber: 0,\r\n      maxRowsPerPage: 10,\r\n      activeName: 'first',\r\n      infos: []\r\n    };\r\n  },\r\n  computed: {\r\n    // 页面总数的计算属性，获取info中第一个节点的totalPageNumber数据\r\n    getPageNumber() {\r\n      var pageNumber = this.infos[0].totalPageNumber * 10;\r\n      return pageNumber\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    handleUrlChange(PageNumber) {\r\n      let url = '/community/getIndexPost?currentPageNumber=' + PageNumber + '&maxRowsPerPage' + this.maxRowsPerPage;\r\n      console.log(`url to: ${url}`);\r\n      this.$axios\r\n        // 不添加http等前缀，前缀由vue.config.js来补充，实现请求转发\r\n        .get(url)\r\n        .then(resp => {\r\n          if (resp) {\r\n            // 将resp中的data数据存入infos\r\n            this.infos = resp.data;\r\n            // totalPageNumber数据由后台传过来，页面上直接获取的话会报错，故使用计算属性来完成\r\n            this.totalPageNumber = this.getPageNumber;\r\n\r\n          }\r\n        });\r\n    },\r\n    handleClick(tab, event) {\r\n        console.log(tab, event);\r\n      },\r\n    handleCurrentChange(val) {\r\n      this.currentPageNumber = val;\r\n      console.log(`当前页: ${val}`);\r\n      this.handleUrlChange(val);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.handleUrlChange(1);\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n"]}]}