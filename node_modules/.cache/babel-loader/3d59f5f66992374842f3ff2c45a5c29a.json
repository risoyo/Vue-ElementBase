{"remainingRequest":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\nowcoder\\Nowcoding-vue\\src\\components\\Home\\HomeMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\src\\components\\Home\\HomeMain.vue","mtime":1581243240370},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      // 声明使用的数组\n      currentPageNumber: 1,\n      totalPageNumber: 0,\n      maxRowsPerPage: 10,\n      activeName: 'first',\n      infos: []\n    };\n  },\n  computed: {\n    // 页面总数的计算属性，获取info中第一个节点的totalPageNumber数据\n    getPageNumber: function getPageNumber() {\n      var pageNumber = this.infos[0].totalPageNumber * 10;\n      return pageNumber;\n    }\n  },\n  methods: {\n    handleUrlChange: function handleUrlChange(PageNumber) {\n      var _this = this;\n\n      var url = '/community/getIndexPost?currentPageNumber=' + PageNumber + '&maxRowsPerPage' + this.maxRowsPerPage;\n      console.log(\"url to: \".concat(url));\n      this.$axios // 不添加http等前缀，前缀由vue.config.js来补充，实现请求转发\n      .get(url).then(function (resp) {\n        if (resp) {\n          // 将resp中的data数据存入infos\n          _this.infos = resp.data; // totalPageNumber数据由后台传过来，页面上直接获取的话会报错，故使用计算属性来完成\n\n          _this.totalPageNumber = _this.getPageNumber;\n        }\n      });\n    },\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPageNumber = val;\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.handleUrlChange(val);\n    }\n  },\n  mounted: function mounted() {\n    this.handleUrlChange(1);\n  }\n};",{"version":3,"sources":["HomeMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,iBAAA,EAAA,CAFA;AAGA,MAAA,eAAA,EAAA,CAHA;AAIA,MAAA,cAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA,OALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,CAAA,EAAA,eAAA,GAAA,EAAA;AACA,aAAA,UAAA;AACA;AALA,GAXA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,UADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,+CAAA,UAAA,GAAA,iBAAA,GAAA,KAAA,cAAA;AACA,MAAA,OAAA,CAAA,GAAA,mBAAA,GAAA;AACA,WAAA,MAAA,CACA;AADA,OAEA,GAFA,CAEA,GAFA,EAGA,IAHA,CAGA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAFA,CAGA;;AACA,UAAA,KAAA,CAAA,eAAA,GAAA,KAAA,CAAA,aAAA;AAEA;AACA,OAXA;AAYA,KAhBA;AAiBA,IAAA,WAjBA,uBAiBA,GAjBA,EAiBA,KAjBA,EAiBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,KAAA;AACA,KAnBA;AAoBA,IAAA,mBApBA,+BAoBA,GApBA,EAoBA;AACA,WAAA,iBAAA,GAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,+BAAA,GAAA;AACA,WAAA,eAAA,CAAA,GAAA;AACA;AAxBA,GAnBA;AA6CA,EAAA,OA7CA,qBA6CA;AACA,SAAA,eAAA,CAAA,CAAA;AACA;AA/CA,CAAA","sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" type=\"card\">\r\n    <el-tab-pane label=\"最新\" name=\"first\">\r\n          <h3>当前页码 is {{totalPageNumber}}</h3>\r\n\r\n    <!-- 使用v-for读取infos中的数据 -->\r\n\r\n    <div v-for=\"(info, i) in infos\" :key=\"i\">\r\n      <div v-if=\"info.totalPageNumber\"></div>\r\n      <div v-else>\r\n        <div>\r\n          <p>{{ info.content }}</p>\r\n          <p>\r\n            <span>{{ info.user_name }}</span>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <span style=\"padding-left:250px\">发布于：{{info.create_time}}</span>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <span>回帖：{{info.comment_count}}</span>\r\n          </p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"text-align: center;\">\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        layout=\"prev, pager, next\"\r\n        :size=\"maxRowsPerPage\"\r\n        :total=\"totalPageNumber\"\r\n        :current-page=\"currentPageNumber\"\r\n      ></el-pagination>\r\n    </div>\r\n    </el-tab-pane>\r\n\r\n    \r\n    <el-tab-pane label=\"最热\" name=\"second\">最热</el-tab-pane>\r\n  </el-tabs>\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 声明使用的数组\r\n      currentPageNumber: 1,\r\n      totalPageNumber: 0,\r\n      maxRowsPerPage: 10,\r\n      activeName: 'first',\r\n      infos: []\r\n    };\r\n  },\r\n  computed: {\r\n    // 页面总数的计算属性，获取info中第一个节点的totalPageNumber数据\r\n    getPageNumber() {\r\n      var pageNumber = this.infos[0].totalPageNumber * 10;\r\n      return pageNumber\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    handleUrlChange(PageNumber) {\r\n      let url = '/community/getIndexPost?currentPageNumber=' + PageNumber + '&maxRowsPerPage' + this.maxRowsPerPage;\r\n      console.log(`url to: ${url}`);\r\n      this.$axios\r\n        // 不添加http等前缀，前缀由vue.config.js来补充，实现请求转发\r\n        .get(url)\r\n        .then(resp => {\r\n          if (resp) {\r\n            // 将resp中的data数据存入infos\r\n            this.infos = resp.data;\r\n            // totalPageNumber数据由后台传过来，页面上直接获取的话会报错，故使用计算属性来完成\r\n            this.totalPageNumber = this.getPageNumber;\r\n\r\n          }\r\n        });\r\n    },\r\n    handleClick(tab, event) {\r\n        console.log(tab, event);\r\n      },\r\n    handleCurrentChange(val) {\r\n      this.currentPageNumber = val;\r\n      console.log(`当前页: ${val}`);\r\n      this.handleUrlChange(val);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.handleUrlChange(1);\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Home"}]}