{"remainingRequest":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\nowcoder\\Nowcoding-vue\\src\\components\\Home\\HomeMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\src\\components\\Home\\HomeMain.vue","mtime":1581482465601},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project\\nowcoder\\Nowcoding-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDlo7DmmI7kvb/nlKjnmoTmlbDnu4QKICAgICAgY3VycmVudFBhZ2VOdW1iZXI6IDEsCiAgICAgIHRvdGFsUGFnZU51bWJlcjogMCwKICAgICAgbWF4Um93c1BlclBhZ2U6IDEwLAogICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICBpbmZvczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6aG16Z2i5oC75pWw55qE6K6h566X5bGe5oCn77yM6I635Y+WaW5mb+S4reesrOS4gOS4quiKgueCueeahHRvdGFsUGFnZU51bWJlcuaVsOaNrgogICAgZ2V0UGFnZU51bWJlcjogZnVuY3Rpb24gZ2V0UGFnZU51bWJlcigpIHsKICAgICAgdmFyIHBhZ2VOdW1iZXIgPSB0aGlzLmluZm9zWzBdLnRvdGFsUGFnZU51bWJlciAqIDEwOwogICAgICByZXR1cm4gcGFnZU51bWJlcjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmhhbmRsZVVybENoYW5nZSgxKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVVybENoYW5nZTogZnVuY3Rpb24gaGFuZGxlVXJsQ2hhbmdlKFBhZ2VOdW1iZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAnL2NvbW11bml0eS9nZXRJbmRleFBvc3Q/Y3VycmVudFBhZ2VOdW1iZXI9JyArIFBhZ2VOdW1iZXIgKyAnJm1heFJvd3NQZXJQYWdlJyArIHRoaXMubWF4Um93c1BlclBhZ2U7CiAgICAgIGNvbnNvbGUubG9nKCJ1cmwgdG86ICIuY29uY2F0KHVybCkpOwogICAgICB0aGlzLiRheGlvcyAvLyDkuI3mt7vliqBodHRw562J5YmN57yA77yM5YmN57yA55SxdnVlLmNvbmZpZy5qc+adpeihpeWFhe+8jOWunueOsOivt+axgui9rOWPkQogICAgICAuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAvLyDlsIZyZXNw5Lit55qEZGF0YeaVsOaNruWtmOWFpWluZm9zCiAgICAgICAgICBfdGhpcy5pbmZvcyA9IHJlc3AuZGF0YTsgLy8gdG90YWxQYWdlTnVtYmVy5pWw5o2u55Sx5ZCO5Y+w5Lyg6L+H5p2l77yM6aG16Z2i5LiK55u05o6l6I635Y+W55qE6K+d5Lya5oql6ZSZ77yM5pWF5L2/55So6K6h566X5bGe5oCn5p2l5a6M5oiQCgogICAgICAgICAgX3RoaXMudG90YWxQYWdlTnVtYmVyID0gX3RoaXMuZ2V0UGFnZU51bWJlcjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayh0YWIsIGV2ZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKHRhYiwgZXZlbnQpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2VOdW1iZXIgPSB2YWw7CiAgICAgIGNvbnNvbGUubG9nKCJcdTVGNTNcdTUyNERcdTk4NzU6ICIuY29uY2F0KHZhbCkpOwogICAgICB0aGlzLmhhbmRsZVVybENoYW5nZSh2YWwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["HomeMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,iBAAA,EAAA,CAFA;AAGA,MAAA,eAAA,EAAA,CAHA;AAIA,MAAA,cAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA,OALA;AAMA,MAAA,KAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AACA,UAAA,UAAA,GAAA,KAAA,KAAA,CAAA,CAAA,EAAA,eAAA,GAAA,EAAA;AACA,aAAA,UAAA;AACA;AALA,GAXA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,eAAA,CAAA,CAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,UADA,EACA;AAAA;;AACA,UAAA,GAAA,GACA,+CACA,UADA,GAEA,iBAFA,GAGA,KAAA,cAJA;AAKA,MAAA,OAAA,CAAA,GAAA,mBAAA,GAAA;AACA,WAAA,MAAA,CACA;AADA,OAEA,GAFA,CAEA,GAFA,EAGA,IAHA,CAGA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAFA,CAGA;;AACA,UAAA,KAAA,CAAA,eAAA,GAAA,KAAA,CAAA,aAAA;AACA;AACA,OAVA;AAWA,KAnBA;AAoBA,IAAA,WApBA,uBAoBA,GApBA,EAoBA,KApBA,EAoBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,KAAA;AACA,KAtBA;AAuBA,IAAA,mBAvBA,+BAuBA,GAvBA,EAuBA;AACA,WAAA,iBAAA,GAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,+BAAA,GAAA;AACA,WAAA,eAAA,CAAA,GAAA;AACA;AA3BA;AArBA,CAAA","sourcesContent":["/* eslint-disable prettier/prettier */ /* eslint-disable prettier/prettier */\r\n<template>\r\n  <div class=\"hello\">\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" type=\"card\">\r\n      <el-tab-pane label=\"最新\" name=\"first\">\r\n        <h3>当前页码 is {{ totalPageNumber }}</h3>\r\n\r\n        <!-- 使用v-for读取infos中的数据 -->\r\n\r\n        <div v-for=\"(info, i) in infos\" :key=\"i\">\r\n          <div v-if=\"info.totalPageNumber\"></div>\r\n          <div v-else>\r\n            <div>\r\n              <p>{{ info.content }}</p>\r\n              <p>\r\n                <span>{{ info.user_name }}</span>\r\n                <el-divider direction=\"vertical\"></el-divider>\r\n                <span style=\"padding-left:250px\">\r\n                  发布于：{{ info.create_time }}\r\n                </span>\r\n                <el-divider direction=\"vertical\"></el-divider>\r\n                <span>回帖：{{ info.comment_count }}</span>\r\n              </p>\r\n            </div>\r\n            <el-divider></el-divider>\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"text-align: center;\">\r\n          <el-pagination\r\n            @current-change=\"handleCurrentChange\"\r\n            :size=\"maxRowsPerPage\"\r\n            :total=\"totalPageNumber\"\r\n            :current-page=\"currentPageNumber\"\r\n            layout=\"prev, pager, next\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"最热\" name=\"second\">\r\n        最热\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 声明使用的数组\r\n      currentPageNumber: 1,\r\n      totalPageNumber: 0,\r\n      maxRowsPerPage: 10,\r\n      activeName: 'first',\r\n      infos: []\r\n    };\r\n  },\r\n  computed: {\r\n    // 页面总数的计算属性，获取info中第一个节点的totalPageNumber数据\r\n    getPageNumber() {\r\n      const pageNumber = this.infos[0].totalPageNumber * 10;\r\n      return pageNumber;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.handleUrlChange(1);\r\n  },\r\n  methods: {\r\n    handleUrlChange(PageNumber) {\r\n      const url =\r\n        '/community/getIndexPost?currentPageNumber=' +\r\n        PageNumber +\r\n        '&maxRowsPerPage' +\r\n        this.maxRowsPerPage;\r\n      console.log(`url to: ${url}`);\r\n      this.$axios\r\n        // 不添加http等前缀，前缀由vue.config.js来补充，实现请求转发\r\n        .get(url)\r\n        .then(resp => {\r\n          if (resp) {\r\n            // 将resp中的data数据存入infos\r\n            this.infos = resp.data;\r\n            // totalPageNumber数据由后台传过来，页面上直接获取的话会报错，故使用计算属性来完成\r\n            this.totalPageNumber = this.getPageNumber;\r\n          }\r\n        });\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPageNumber = val;\r\n      console.log(`当前页: ${val}`);\r\n      this.handleUrlChange(val);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Home"}]}